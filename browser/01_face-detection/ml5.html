<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
    <script> // //alle jpgs untereinander rein, alt shift und mit cursor markieren, dann pfad schreiben '../../assets/poseautomat/face1.png', 
      const images = [
'../../assets/poseautomat/pose_cut_1.jpg',
'../../assets/poseautomat/pose_cut_2.jpg',
'../../assets/poseautomat/pose_cut_3.jpg',
'../../assets/poseautomat/pose_cut_4.jpg',
'../../assets/poseautomat/pose_cut_5.jpg',
'../../assets/poseautomat/pose_cut_6.jpg',
'../../assets/poseautomat/pose_cut_7.jpg',
'../../assets/poseautomat/pose_cut_8.jpg',
'../../assets/poseautomat/pose_cut_9.jpg',
'../../assets/poseautomat/pose_cut_10.jpg',
'../../assets/poseautomat/pose_cut_11.jpg',
'../../assets/poseautomat/pose_cut_12.jpg',
'../../assets/poseautomat/pose_cut_13.jpg',
'../../assets/poseautomat/pose_cut_14.jpg',
'../../assets/poseautomat/pose_cut_15.jpg',
'../../assets/poseautomat/pose_cut_16.jpg',
'../../assets/poseautomat/pose_cut_17.jpg',
'../../assets/poseautomat/pose_cut_18.jpg',
'../../assets/poseautomat/pose_cut_19.jpg',
'../../assets/poseautomat/pose_cut_20.jpg',
'../../assets/poseautomat/pose_full_1.jpg',
'../../assets/poseautomat/pose_full_2.jpg',
'../../assets/poseautomat/pose_full_3.jpg',
'../../assets/poseautomat/pose_full_4.jpg',
'../../assets/poseautomat/pose_full_5.jpg',
'../../assets/poseautomat/pose_full_6.jpg',
'../../assets/poseautomat/pose_full_7.jpg',
'../../assets/poseautomat/pose_full_8.jpg',
'../../assets/poseautomat/pose_full_9.jpg',
'../../assets/poseautomat/pose_full_10.jpg',
'../../assets/poseautomat/pose_full_11.jpg',
'../../assets/poseautomat/pose_full_12.jpg',
'../../assets/poseautomat/pose_full_13.jpg',
'../../assets/poseautomat/pose_full_14.jpg',
'../../assets/poseautomat/pose_full_15.jpg',
'../../assets/poseautomat/pose_full_16.jpg',
'../../assets/poseautomat/pose_full_17.jpg',
'../../assets/poseautomat/pose_full_18.jpg',
'../../assets/poseautomat/pose_full_19.jpg',
'../../assets/poseautomat/pose_full_20.jpg',
'../../assets/poseautomat/pose_full_21.jpg',
'../../assets/poseautomat/pose_full_22.jpg',
'../../assets/poseautomat/pose_full_23.jpg',
'../../assets/poseautomat/pose_full_24.jpg',
'../../assets/poseautomat/pose_full_25.jpg',
'../../assets/poseautomat/pose_full_26.jpg',
'../../assets/poseautomat/pose_full_27.jpg',
'../../assets/poseautomat/pose_full_28.jpg',
'../../assets/poseautomat/pose_full_29.jpg',
'../../assets/poseautomat/pose_full_30.jpg',
'../../assets/poseautomat/pose_full_31.jpg',
'../../assets/poseautomat/pose_full_32.jpg',
'../../assets/poseautomat/pose_full_33.jpg',
'../../assets/poseautomat/pose_full_34.jpg',
'../../assets/poseautomat/pose_full_35.jpg',
'../../assets/poseautomat/pose_full_36.jpg',
'../../assets/poseautomat/pose_full_37.jpg',
'../../assets/poseautomat/pose_full_38.jpg',
'../../assets/poseautomat/pose_full_39.jpg',
'../../assets/poseautomat/pose_full_40.jpg',
'../../assets/poseautomat/pose_full_41.jpg',
'../../assets/poseautomat/pose_full_42.jpg',
'../../assets/poseautomat/pose_full_43.jpg',
'../../assets/poseautomat/pose_full_44.jpg',
'../../assets/poseautomat/pose_full_45.jpg',
'../../assets/poseautomat/pose_full_46.jpg',
'../../assets/poseautomat/pose_full_47.jpg',
'../../assets/poseautomat/pose_full_48.jpg',
'../../assets/poseautomat/pose_full_49.jpg',
'../../assets/poseautomat/pose_full_50.jpg',
'../../assets/poseautomat/pose_full_52.jpg',
'../../assets/poseautomat/pose_full_53.jpg',
'../../assets/poseautomat/pose_full_54.jpg',
'../../assets/poseautomat/pose_full_55.jpg',
'../../assets/poseautomat/pose_full_56.jpg',
'../../assets/poseautomat/pose_full_57.jpg',
'../../assets/poseautomat/pose_full_58.jpg',
'../../assets/poseautomat/pose_full_59.jpg',
'../../assets/poseautomat/pose_full_60.jpg',
'../../assets/poseautomat/pose_full_61.jpg',
'../../assets/poseautomat/pose_full_62.jpg',
'../../assets/poseautomat/pose_full_63.jpg',
'../../assets/poseautomat/pose_full_64.jpg',
'../../assets/poseautomat/pose_full_65.jpg',
'../../assets/poseautomat/pose_full_66.jpg',
'../../assets/poseautomat/pose_full_67.jpg',
'../../assets/poseautomat/pose_full_68.jpg',
'../../assets/poseautomat/pose_full_69.jpg',
'../../assets/poseautomat/pose_full_70.jpg',
'../../assets/poseautomat/pose_full_71.jpg',
'../../assets/poseautomat/pose_full_72.jpg',
'../../assets/poseautomat/pose_full_73.jpg',
'../../assets/poseautomat/pose_full_74.jpg',
'../../assets/poseautomat/pose_full_75.jpg',
'../../assets/poseautomat/pose_full_76.jpg',
'../../assets/poseautomat/pose_top_1.jpg',
'../../assets/poseautomat/pose_top_2.jpg',
'../../assets/poseautomat/pose_top_3.jpg',
'../../assets/poseautomat/pose_top_4.jpg',
'../../assets/poseautomat/pose_top_5.jpg',
'../../assets/poseautomat/pose_top_6.jpg',
'../../assets/poseautomat/pose_top_7.jpg',
'../../assets/poseautomat/pose_top_8.jpg',
'../../assets/poseautomat/pose_top_9.jpg',
'../../assets/poseautomat/pose_top_10.jpg',
'../../assets/poseautomat/pose_top_11.jpg',
'../../assets/poseautomat/pose_top_12.jpg',
'../../assets/poseautomat/pose_top_13.jpg',
'../../assets/poseautomat/pose_top_14.jpg',
'../../assets/poseautomat/pose_top_15.jpg',
'../../assets/poseautomat/pose_top_16.jpg',
'../../assets/poseautomat/pose_top_17.jpg',
'../../assets/poseautomat/pose_top_18.jpg',
];


      for (let i = 0; i < images.length; i += 1) {
        const facemesh = ml5.poseNet(() => {
          const sketch = (p) => {
            let img;
            let faces;
            p.preload = () => {
              img = p.loadImage(images[i]);
            };
            p.setup = () => {
              p.createCanvas(img.width, img.height);
              p.image(img, 0, 0);

              facemesh.singlePose(img, (result) => {
                faces = result;
              });

              p.noFill();
              p.stroke('red');
              p.strokeWeight(3);
            };
            p.draw = () => {
              if (faces) {
                for (let i = 0; i < faces.length; i += 1) {
                  const keypoints = faces[i].scaledMesh;
                  const bounds = faces[i].boundingBox;

                  // Draw facial keypoints.
                  for (let j = 0; j < keypoints.length; j += 1) {
                    const [x, y, z] = keypoints[j];
                    p.point(x, y);
                  }

                  console.log(bounds);

                  p.rect(
                    bounds.topLeft[0][0],
                    bounds.topLeft[0][1],
                    bounds.bottomRight[0][0] - bounds.topLeft[0][0],
                    bounds.bottomRight[0][1] - bounds.topLeft[0][1]
                  );
                }
                p.noLoop();
              }
            }
          };
          new p5(sketch);
        });
      }
    </script>
  </body>
</html>
